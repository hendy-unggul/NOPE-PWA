<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NOPE — Onboarding</title>
  <style>
    :root {
      --bg: #000;
      --text: #fff;
      --muted: #777780;
      --card: #0a0a0f;
      --border: #1a1a25;
      --neon-blue: #00f3ff;
    }
    * {
      box-sizing: border-box;
    }
    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Inter', sans-serif;
      padding: 20px;
      max-width: 500px;
      margin: 0 auto;
      line-height: 1.3;
    }

    .header {
      text-align: center;
      margin-bottom: 20px;
    }
    .header h1 {
      font-size: 24px;
      font-weight: 800;
      color: #ffffff;
      margin-bottom: 8px;
      line-height: 1.2;
    }
    .header p {
      font-size: 11px;
      color: #666;
      margin: 12px 0;
      text-align: center;
    }

    .zones-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      width: 100%;
      margin-bottom: 24px;
    }

    .zone {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 14px;
    }

    .zone-title {
      color: var(--neon-blue);
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 6px;
      text-shadow: 0 0 6px rgba(0, 243, 255, 0.3);
    }

    .hashtag-list {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .hashtag-item {
      background: rgba(255,255,255,0.02);
      color: #aaa;
      padding: 8px;
      border-radius: 6px;
      cursor: pointer;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .hashtag-item.selected {
      background: rgba(0, 243, 255, 0.15);
      color: white;
      border: 1px solid var(--neon-blue);
    }

    /* LOCKED ZONE 4 */
    .zone:nth-child(4) .hashtag-item {
      opacity: 0.15;
      cursor: not-allowed;
      pointer-events: none;
    }

    .status {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 14px;
      margin: 16px 0;
      width: 100%;
      font-size: 12px;
    }

    .status-row {
      display: flex;
      justify-content: space-between;
      margin: 5px 0;
    }

    .status-value.complete { color: var(--neon-blue); }
    .status-value.incomplete { color: #ff9500; }

    .btn {
      width: fit-content;
      padding: 12px 24px;
      background: linear-gradient(135deg, #00f3ff, #00a8ff);
      color: black;
      border: none;
      border-radius: 8px;
      font-weight: 700;
      font-size: 15px;
      cursor: pointer;
      margin-left: auto;
    }
    .btn:disabled { opacity: 0.4; }
  </style>
</head>
<body>
  <div class="header">
    <h1>Jangan pilih yang kau suka.<br>Pilih yang kau benci.</h1>
    <p>* Pilih 1 hashtag dari tiap zona — ini yang menentukan siapa yang bisa mendengarmu.</p>
  </div>

  <div class="zones-grid" id="zones-grid"></div>

  <div class="status" id="status"></div>

  <button class="btn" id="continue-btn" disabled>Lanjut</button>

  <script>
    const categories = [
      {
        id: 'pop',
        title: '#PopCulture',
        hashtags: [
          '#FilmEndingGaje',
          '#BeliTiketJualGinjal',
          '#InfluencerNgehek',
          '#TikTokBikinGila',
          '#SelebPuraPuraBahagia'
        ]
      },
      {
        id: 'personal',
        title: '#PersonalPain',
        hashtags: [
          '#GakBisaBilangTidak',
          '#MauSendiriTapiTakutDibilangJutek',
          '#DibilangAnakDurhakaKalauNggakNurut',
          '#CemasTerusPasOrangTidur',
          '#GakPunyaAlasanHidup'
        ]
      },
      {
        id: 'social',
        title: '#SocialSickness',
        hashtags: [
          '#MentalHealthDijadiinTrend',
          '#KerjaKerasDipujiTapiGajiNggakNaik',
          '#NgomonginPrivilegeTapiPakeiPhone',
          '#KapitalisNgegas',
          '#LGBTQDijadiinKonten'
        ]
      },
      {
        id: 'movement',
        title: '#SayNOPE',
        hashtags: [
          '#LawanEksploitasiBuruh',
          '#TolakDiskriminasiGender',
          '#HentikanPenggusuranRakyat',
          '#StopKekerasanSeksual',
          '#BoikotPerusahaanRusakBumi'
        ],
        locked: true
      }
    ];

    let selections = {};

    function renderZones() {
      const grid = document.getElementById('zones-grid');
      grid.innerHTML = '';

      categories.forEach(cat => {
        const zone = document.createElement('div');
        zone.className = 'zone';
        if (cat.locked) zone.classList.add('locked');

        const hashtagList = cat.hashtags.map(h => {
          const el = `<div class="hashtag-item" data-value="${h}">${h}</div>`;
          return el;
        }).join('');

        zone.innerHTML = `
          <div class="zone-title">${cat.title}</div>
          <div class="hashtag-list">${hashtagList}</div>
        `;
        grid.appendChild(zone);

        if (!cat.locked) {
          zone.querySelectorAll('.hashtag-item').forEach(el => {
            el.addEventListener('click', () => {
              const current = selections[cat.id];
              const value = el.dataset.value;

              if (current === value) {
                delete selections[cat.id];
                el.classList.remove('selected');
              } else {
                selections[cat.id] = value;
                el.closest('.hashtag-list').querySelectorAll('.hashtag-item').forEach(i => i.classList.remove('selected'));
                el.classList.add('selected');
              }
              updateStatus();
            });
          });
        }
      });
    }

    function updateStatus() {
      const statusEl = document.getElementById('status');
      statusEl.innerHTML = '';

      // Hanya hitung 3 zona aktif (kecuali movement)
      const activeCategories = categories.filter(cat => !cat.locked);

      let complete = 0;
      activeCategories.forEach(cat => {
        const sel = selections[cat.id];
        const row = document.createElement('div');
        row.className = 'status-row';
        row.innerHTML = `
          <span>${cat.title}</span>
          <span class="status-value ${sel ? 'complete' : 'incomplete'}">${sel || 'belum dipilih'}</span>
        `;
        statusEl.appendChild(row);
        if (sel) complete++;
      });

      const btn = document.getElementById('continue-btn');
      btn.disabled = complete !== activeCategories.length;
      if (complete === activeCategories.length) {
        btn.onclick = () => {
          localStorage.setItem('nope_selections', JSON.stringify(selections));
          window.location.href = '/luar';
        };
      }
    }

    renderZones();
    updateStatus();
  </script>
</body>
</html>
