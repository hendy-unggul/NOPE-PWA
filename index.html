<script type="module">
  const SUPABASE_URL = 'https://iiznshiqpibtoqtttrtm.supabase.co'; // GANTI INI
  const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlpem5zaGlxcGlidG9xdHR0cnRtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NzgzMzEsImV4cCI6MjA4MTA1NDMzMX0.FcSy1Q0UkK46uG2B7W-QwdYjoBx0gCoVE44U1Npxrs8'; // GANTI INI

  try {
    const { createClient } = await import('https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm');
    const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    const { data: { user } } = await supabase.auth.getUser();
    window.location.href = user ? 'inner.html' : 'onboarding.html';

  } catch (err) {
    console.error('Error in index.html:', err);
    window.location.href = 'onboarding.html'; // fallback
  }
</script>
